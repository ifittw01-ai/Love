# 🌍 多國家/地區設置指南

## ✅ 已完成的功能

系統現在支持：
- 🇹🇼 **台灣 (Taiwan)**
- 🇲🇾 **馬來西亞 (Malaysia - Kuala Lumpur)**

當用戶選擇不同國家時，**活動時間地點**會自動切換顯示對應國家的地點選項。

---

## 📊 Google Sheet 設置

### **步驟 1: 創建 Google Sheet**

創建一個新的 Google Sheet，建議命名為：`AI-Global` 或 `Global-Customer-Data`

### **步驟 2: 創建工作表（Sheets）**

需要創建 **4 個頁簽**：

---

#### **頁簽 1: Global**（客戶資料主表）

第一行（標題行）：
```
時間戳記 | 姓名 | 電子郵件 | 電話號碼 | 國家地區 | 行業 | 評估地區 | LINE ID | WhatsApp號碼 | 推廣代碼
```

**說明**：這個表會自動記錄所有提交的客戶資料

---

#### **頁簽 2: 推廣人員**（推廣代碼對照表）

第一行（標題行）：
```
推廣代碼 | 郵箱 | 姓名
```

第二行開始填入數據（範例）：
```
001              | user1@gmail.com           | 張三
002              | user2@gmail.com           | 李四
jordantsai777    | jordantsai777@gmail.com   | Jordan
MY001            | malaysia1@gmail.com       | Ahmad
MY002            | malaysia2@gmail.com       | Mei Ling
```

**說明**：
- 推廣代碼可以自定義（例如：001, 002, MY001 等）
- 當有客戶通過推廣鏈接報名時，系統會發送通知到對應的郵箱
- 馬來西亞的推廣人員可以使用 MY 開頭的代碼

---

#### **頁簽 3: 評估地點**（⚠️ 重要！新增國家欄位）

第一行（標題行）：
```
ID | 國家 | 地點描述
```

第二行開始填入數據（範例）：

**台灣的活動地點：**
```
tw1 | TW | 11/25 星期一 晚上 7:00~9:00 台北市信義區忠孝東路五段123號
tw2 | TW | 11/27 星期三 下午 2:00~4:00 台中市西屯區台灣大道四段888號
tw3 | TW | 11/29 星期五 晚上 7:00~9:00 高雄市前鎮區中山四路100號
tw4 | TW | 12/2 星期一 下午 3:00~5:00 新北市板橋區文化路二段200號
```

**馬來西亞的活動地點：**
```
my1 | MY | 12/1 Monday 7:00pm~9:00pm Kuala Lumpur, Jalan Ampang, Empire City Mall
my2 | MY | 12/3 Wednesday 2:00pm~4:00pm Kuala Lumpur, KLCC Convention Centre
my3 | MY | 12/5 Friday 7:00pm~9:00pm Petaling Jaya, Paradigm Mall
my4 | MY | 12/8 Monday 3:00pm~5:00pm Kuala Lumpur, Mid Valley Megamall
```

**⚠️ 重要說明：**
- **ID**: 唯一識別碼，建議用 `tw1`, `tw2`, `my1`, `my2` 等格式
- **國家**: 必須填 `TW`（台灣）或 `MY`（馬來西亞），大小寫敏感！
- **地點描述**: 顯示給用戶看的完整地點信息（包含日期、時間、地址）

---

#### **頁簽 4: 客戶確認郵件設定**（可選）

這個頁簽可以用來自定義不同國家的確認郵件內容。

第一行（標題行）：
```
國家 | LINE群組連結 | 密碼 | 郵件主旨 | 郵件內容
```

範例：
```
TW | https://line.me/ti/g2/xxx | 13579 | 感謝您報名 | 歡迎加入...
MY | https://line.me/ti/g2/yyy | 12345 | Thank you for registration | Welcome to join...
```

---

## 🔧 更新 Google Apps Script

### **步驟 1: 複製 Sheet ID**

1. 打開你的 Google Sheet
2. 從網址中複製 ID：
   ```
   https://docs.google.com/spreadsheets/d/【這裡就是ID】/edit
   ```

### **步驟 2: 更新 Apps Script**

1. 在 Google Sheet 中，點擊 **擴展功能** → **Apps Script**
2. 找到項目中的 `google-apps-script-updated.js` 文件
3. 複製全部內容
4. 貼到 Apps Script 編輯器中
5. **修改第 22 行**：
   ```javascript
   const SPREADSHEET_ID = '你的Sheet_ID';  // ⚠️ 貼上你的 Sheet ID
   ```
6. **修改第 23 行**（如果你的表名是 Global）：
   ```javascript
   const SHEET_NAME = 'Global';  // 客戶資料表名稱
   ```
7. 點擊 **部署** → **新增部署作業**
8. 類型選擇：**網頁應用程式**
9. 設置：
   - 執行身份：**我**
   - 存取權限：**所有人**
10. 點擊 **部署**
11. **複製部署 URL**

### **步驟 3: 更新網站代碼**

修改 `script.js` 文件第 326 行：
```javascript
const GOOGLE_SCRIPT_URL = '你的Apps_Script_URL';
```

---

## 🧪 測試功能

### **測試台灣地點：**
1. 打開網站
2. 國家選擇：**台灣 Taiwan**
3. 查看「希望評估時間地點」下拉選單
4. 應該顯示所有 `國家=TW` 的地點

### **測試馬來西亞地點：**
1. 國家選擇：**馬來西亞 Malaysia**
2. 查看「希望評估時間地點」下拉選單
3. 應該顯示所有 `國家=MY` 的地點
4. 地點會自動切換！

### **測試表單提交：**
1. 填寫完整表單
2. 選擇台灣或馬來西亞
3. 選擇對應的地點
4. 提交
5. 檢查：
   - ✅ Google Sheet `Global` 表有新數據
   - ✅ 推廣人員收到郵件
   - ✅ 客戶收到確認郵件

---

## 📱 推廣鏈接格式

### **台灣推廣人員：**
```
https://ifittw01-ai.github.io/AI-auto-global/?ref=001
https://ifittw01-ai.github.io/AI-auto-global/?ref=jordantsai777
```

### **馬來西亞推廣人員：**
```
https://ifittw01-ai.github.io/AI-auto-global/?ref=MY001
https://ifittw01-ai.github.io/AI-auto-global/?ref=MY002
```

---

## 🌐 多語言支持

系統會自動檢測用戶的國家：
- 🇹🇼 **台灣用戶** → 繁體中文
- 🇨🇳 **中國用戶** → 簡體中文
- 🇲🇾 **馬來西亞華人** → 簡體中文
- 🇬🇧 **英語用戶** → English

用戶也可以在右上角手動切換語言。

---

## 🔄 添加更多國家

如果將來要添加其他國家（例如：新加坡、香港），只需要：

### **1. 修改 `index.html`**
添加新的國家選項：
```html
<option value="SG" data-i18n="form-country-sg">新加坡 Singapore</option>
<option value="HK" data-i18n="form-country-hk">香港 Hong Kong</option>
```

### **2. 修改 `translations.js`**
添加翻譯：
```javascript
'form-country-sg': '新加坡 Singapore',
'form-country-hk': '香港 Hong Kong',
```

### **3. 在 Google Sheet「評估地點」表添加數據**
```
sg1 | SG | 12/10 Monday 7:00pm~9:00pm Singapore, Orchard Road
hk1 | HK | 12/12 Wednesday 7:00pm~9:00pm Hong Kong, Tsim Sha Tsui
```

### **4. 重新部署 Apps Script**
不需要修改代碼，只需要：
1. 在 Google Sheet 中添加新國家的地點數據
2. Apps Script 會自動讀取

---

## ⚠️ 注意事項

1. **國家代碼必須一致**：
   - HTML 中的 `value="TW"`
   - Google Sheet 中的 `國家=TW`
   - 必須完全相同（包括大小寫）

2. **評估地點的國家欄位**：
   - 這是新增的欄位
   - 必須填寫 `TW` 或 `MY`
   - 不能留空

3. **推廣代碼**：
   - 可以自定義
   - 建議馬來西亞用 `MY` 開頭
   - 台灣用數字或英文

4. **Apps Script 部署**：
   - 每次修改代碼後需要重新部署
   - 選擇「新版本」
   - 複製新的部署 URL

---

## 🆘 疑難排解

### **問題：地點沒有切換**
**解決**：
1. 檢查 Google Sheet「評估地點」表的「國家」欄位
2. 確認填的是 `TW` 或 `MY`（大小寫正確）
3. 按 F12 查看瀏覽器控制台的錯誤信息

### **問題：沒有顯示地點選項**
**解決**：
1. 確認 Google Apps Script 已正確部署
2. 檢查 `script.js` 中的 `GOOGLE_SCRIPT_URL` 是否正確
3. 在 Google Apps Script 查看「執行記錄」

### **問題：選擇國家後一直顯示「載入中...」**
**解決**：
1. 檢查網絡連接
2. 確認 Google Apps Script URL 正確
3. 查看瀏覽器控制台的網絡請求錯誤

---

## 📞 需要協助？

如果有問題：
1. 按 F12 打開瀏覽器開發者工具
2. 查看 Console 的錯誤信息
3. 截圖錯誤信息並提供

---

更新時間：2024-11-20

祝您使用順利！🚀

